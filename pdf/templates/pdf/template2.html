<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ user_profile.first_name }} {{ user_profile.last_name }} - Resume</title>
    <style>
        :root {
            --primary: #2c3e50;
            --sidebar-bg: #2c3e50;
            --sidebar-text: rgba(255,255,255,0.9);
            --accent: #3498db;
            --text: #333;
            --light-text: #666;
            --divider: #e0e0e0;
        }
        
        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.5;
            color: var(--text);
            font-size: 17px;
        }
        
        .resume-container {
            display: flex;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
        }
        
        .sidebar {
            background: var(--sidebar-bg);
            color: var(--sidebar-text);
            padding: 25px 15px;
            width: 28%;
            box-sizing: border-box;
        }
        
        .main-content {
            padding: 25px 15px;
            width: 72%;
            box-sizing: border-box;
        }
        
        h1 {
            margin: 0 0 12px;
            font-size: 1.5rem;
            border-bottom: 2px solid var(--accent);
            padding-bottom: 8px;
        }
        
        h2 {
            font-size: 1.1rem;
            margin: 18px 0 12px;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--divider);
        }
        
        .sidebar h2 {
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .contact-info p {
            margin: 8px 0;
            font-size: 0.85rem;
        }
        
        .section-item {
            margin-bottom: 18px;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }
        
        .section-title {
            font-weight: 600;
            font-size: 0.95rem;
            flex: 1;
            min-width: 0;
        }
        
        .section-date {
            color: var(--light-text);
            font-size: 0.8rem;
            white-space: nowrap;
            margin-left: 10px;
        }
        
        .sidebar .section-date {
            color: rgba(255,255,255,0.7);
        }
        
        .section-content {
            font-size: 0.85rem;
            margin-top: 6px;
            line-height: 1.5;
        }
        
        .sidebar .section-content {
            color: rgba(255,255,255,0.9);
        }
        
        .section-subtitle {
            font-size: 0.85rem;
            color: var(--light-text);
        }
        
        .sidebar .section-subtitle {
            color: rgba(255,255,255,0.8);
        }
        
        .divider {
            border: none;
            border-top: 1px solid var(--divider);
            margin: 12px 0;
        }
        
        .sidebar .divider {
            border-color: rgba(255,255,255,0.2);
        }
        
        
        
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .social-link {
            color: whitesmoke;
            text-decoration: none;
        }
        
        @page {
            size: A4;
            margin: 0;
        }
        
        @media print {
            body, html {
                width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
                font-size: 16px;
            }
            
            .resume-container {
                max-width: 100% !important;
                width: 100% !important;
                height: auto !important;
                min-height: 100% !important;
                margin: 0 !important;
                box-shadow: none !important;
            }
            
            .sidebar {
                width: 28% !important;
                padding: 15px 10px !important;
            }
            
            .main-content {
                width: 72% !important;
                padding: 15px 10px !important;
            }
            
            h1 {
                font-size: 1.4rem !important;
            }
            
            h2 {
                font-size: 1.1rem !important;
            }
            
            .section-content {
                font-size: 0.85rem !important;
            }
            
            .download-container, .template-switcher {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="resume-container">
        <div class="sidebar">
            <h1>{{ user_profile.first_name }} {{ user_profile.last_name }}</h1>
            <div class="contact-info">
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                    </svg>
                    {{ user_profile.email }}
                </p>
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M3 2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V2zm6 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0z"/>
                    </svg>
                    {{ user_profile.phone }}
                </p>
                {% if user_profile.linkedin_id %}
                <p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px;">
                        <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
                    </svg>
                    <div class="social-links">
                        {% if user_profile.linkedin_id %}<a href="https://linkedin.com/in/{{ user_profile.linkedin_id }}" class="social-link" target="_blank"><i class="fab fa-linkedin"></i>{{ user_profile.linkedin_id }}</a>{% endif %}
                    </div>
                </p>
                {% endif %}
            </div>
            
            
            
            {% if user_profile.education %}
            <h2>Education</h2>
            {% for edu in user_profile.education %}
            <div class="section-item">
                <div class="section-header">
                    <div class="section-title">{{ edu.degree|default:"Degree not specified" }}</div>
                    <div class="section-date">{{ edu.start_date|default:" " }} - {{ edu.end_date|default:"Present" }}</div>
                </div>
                <div class="section-subtitle">{{ edu.school_college|default:"School not specified" }}</div>
                {% if edu.percentage_cgpa %}<div class="section-content"><strong>Score:</strong> {{ edu.percentage_cgpa }}{% if edu.percentage_cgpa|floatformat:"0"|add:"0" <= 10 %} CGPA{% else %}%{% endif %}</div>{% endif %}
            </div>
            {% if not forloop.last %}<hr class="divider">{% endif %}
            {% endfor %}
            {% endif %}
            
            {% if user_profile.certifications %}<h2>Certifications</h2><div class="section-content">{{ user_profile.certifications|linebreaksbr }}</div>{% endif %}
            
        </div>

        <div class="main-content">
            {% if user_profile.summary %}<h2>Profile</h2><div class="section-content">{{ user_profile.summary|linebreaksbr }}</div>{% endif %}

            {% if user_profile.skills %}<h2>Skills</h2><div class="section-content">{{ user_profile.skills|linebreaksbr }}</div>{% endif %}
            
            {% if user_profile.experience %}
            <h2>Experience</h2>
            {% for exp in user_profile.experience %}
            <div class="section-item">
                <div class="section-header">
                    <div class="section-title">{{ exp.role|default:"Role not specified" }}</div>
                    <div class="section-date">{{ exp.start_date|default:" " }} - {{ exp.end_date|default:"Present" }}</div>
                </div>
                <div class="section-subtitle">{{ exp.company_name|default:"Company not specified" }}</div>
                {% if exp.description %}<div class="section-content">{{ exp.description|linebreaksbr }}</div>{% endif %}
            </div>
            {% if not forloop.last %}<hr class="divider">{% endif %}
            {% endfor %}
            {% endif %}
            
            {% if user_profile.projects %}
            <h2>Projects</h2>
            {% for project in user_profile.projects %}
            <div class="section-item">
                <div class="section-header">
                    <div class="section-title">{{ project.project_name|default:"Project not specified" }}</div>
                    {% if project.start_date or project.end_date %}<div class="section-date">{{ project.start_date|default:" " }} - {{ project.end_date|default:"Present" }}</div>{% endif %}
                </div>
                {% if project.description %}<div class="section-content">{{ project.description|linebreaksbr }}</div>{% endif %}
                {% if project.tech_stack %}<div class="section-content"><strong>Tech:</strong> {{ project.tech_stack }}</div>{% endif %}
            </div>
            {% if not forloop.last %}<hr class="divider">{% endif %}
            {% endfor %}
            {% endif %}
        </div>
    </div>
</body>
</html>